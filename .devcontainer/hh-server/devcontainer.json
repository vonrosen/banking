{
  "name": "Hack Language Server Only",
  "image": "hhvm/hhvm-proxygen:latest",
  "workspaceFolder": "/var/www",
  "workspaceMount": "source=${localWorkspaceFolder}/backend,target=/var/www,type=bind,consistency=cached",
  "runArgs": ["--network=backend_default"],
  "customizations": {
    "vscode": {
      "extensions": [
        "pranayagarwal.vscode-hack"
      ],
      "settings": {
        "hack.clientPath": "/usr/bin/hh_client",
        "hack.workspaceRootPath": "/var/www",
        "hack.hhast.lintMode": "whole-project",
        "update.mode": "none"
      }
    }
  },
  "postCreateCommand": "curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer && composer update",
  "postStartCommand": "hh_server --daemon /var/www && hh_client /var/www"
}
